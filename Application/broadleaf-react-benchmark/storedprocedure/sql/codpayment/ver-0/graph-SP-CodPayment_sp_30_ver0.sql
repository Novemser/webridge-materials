DROP PROCEDURE IF EXISTS `CodPayment_sp_30_ver0`;
DELIMITER $$
CREATE PROCEDURE CodPayment_sp_30_ver0 (IN __nd__func__currentTimeMs__42__106 BIGINT, IN RS_q20_r1_col1 INT)
BEGIN

DECLARE q1_i1 BIGINT DEFAULT NULL;
DECLARE q1_i2 BIGINT DEFAULT NULL;
DECLARE q1_i3 BIGINT DEFAULT NULL;
DECLARE q1_i4 VARCHAR(512) DEFAULT NULL;
DECLARE QUERY_ID_0 INT DEFAULT NULL;
DECLARE M_I_RS_389_rowCount INT DEFAULT NULL;
DECLARE cursor_cnt_0 INT DEFAULT NULL;

IF TRUE THEN
SET q1_i1 = __nd__func__currentTimeMs__42__106;
SET q1_i2 = RS_q20_r1_col1;
SET q1_i3 = -1;
SET q1_i4 = '00000000-0000-0000-0000-000000000000';
SET QUERY_ID_0 = 0;
SAVEPOINT trace0_p1;
UPDATE BLC_ORDER_LOCK SET LOCKED = 'Y', LAST_UPDATED = q1_i1 WHERE ORDER_ID = q1_i2 AND (LOCKED = 'N' OR LAST_UPDATED < q1_i3) AND LOCK_KEY = q1_i4;
SET M_I_RS_389_rowCount = ROW_COUNT();
SELECT M_I_RS_389_rowCount;
END IF;
SELECT QUERY_ID_0,q1_i1,q1_i2,q1_i3,q1_i4;

END $$
DELIMITER ;